<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Solicitar Materiales</title>
    <style>
        body {
            font-family: Arial;
            background: #f0f2f5;
            padding: 20px;
        }
        .box {
            background: white;
            padding: 20px;
            max-width: 700px;
            margin: auto;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.15);
        }
        h2 {
            text-align: center;
            margin-bottom: 25px;
        }

        label {
            font-weight: bold;
        }

        select, input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 6px;
            border: 1px solid #aaa;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: #007bff;
            color: white;
        }

        input[type="number"] {
            width: 95%;
            padding: 8px;
            border: 1px solid #aaa;
            border-radius: 5px;
        }

        button {
            padding: 12px;
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 15px;
            cursor: pointer;
        }

        .btnAgregar {
            background: #28a745;
            margin-bottom: 15px;
        }
        .btnAgregar:hover { background: #218838; }

        .btnEnviar {
            background: #007bff;
            width: 100%;
        }
        .btnEnviar:hover { background: #0056b3; }

        .btnVolver {
            background: #6c757d;
            width: 100%;
            margin-top: 8px;
        }
        .btnVolver:hover { background: #565e64; }

        .btnEliminar {
            background: #dc3545;
            padding: 8px;
            font-size: 14px;
        }
        .btnEliminar:hover { background: #c82333; }
    </style>
</head>
<body>

<div class="box">
    <h2>Solicitar Materiales</h2>

    <!-- ✅ SELECTOR DE DOCENTE -->
    <label>Docente Responsable:</label>
    <select id="docente">
        <option value="" disabled selected>Seleccione un docente...</option>

        <option>AARÓN EDUARDO SEPÚLVEDA MEDINA</option>
        <option>ALEJANDRO GABRIEL MOENA VALDERRAMA</option>
        <option>BRAYAN PATRICIO DEL VALLE AEDO</option>
        <option>DANIELA FERNANDA MARTÍNEZ MARTÍNEZ</option>
        <option>EDUARDO ARTURO BASTÍAS GARCÍA</option>
        <option>ELÍAS ANDRÉS POBLETE AVILA</option>
        <option>GERARDO NICOLÁS SEPÚLVEDA GUTIÉRREZ</option>
        <option>GIOVANNI ANDRÉS JARA TORRES</option>
        <option>JORGE ANDRÉS PÉREZ MILLAR</option>
        <option>JOSEFA CATALINA LISBOA RIVERA</option>
        <option>JULIO CESAR ALARCON MONTEROS</option>
        <option>MANUEL ALEJANDRO HENRIQUEZ OLIVA</option>
        <option>MARCO ANTONIO ARRIAGADA CASAS</option>
        <option>PEDRO PATRICIO PEDRERO PÉREZ</option>
        <option>RICHARD ANTONIO VALDERRAMA SAN MARTIN</option>
        <option>RICHARD NICOLÁS SANTOS MARTÍNEZ</option>
        <option>ROBERTO SEBASTIAN CID LIZAMA</option>
        <option>RODRIGO ALEJANDRO CONTRERAS ZÚÑIGA</option>
        <option>RODRIGO ALEJANDRO GARRIDO GARRIDO</option>
        <option>ROLANDO EDUARDO ORTEGA FUENTES</option>
        <option>VÍCTOR EDUARDO ZAPATA MYRIK</option>

        <option>OTROS DOCENTES</option>
    </select>

    <!-- ✅ ASIGNATURA AHORA INPUT DE TEXTO -->
    <label>Asignatura:</label>
    <input type="text" id="asignatura" placeholder="Ejemplo: Electrónica de Potencia">

    <button class="btnAgregar" onclick="agregarFila()">+ Agregar Material</button>

    <table id="tablaMateriales">
        <thead>
            <tr>
                <th>Material o Equipo</th>
                <th style="width:120px;">Cantidad</th>
                <th style="width:100px;">Acción</th>
            </tr>
        </thead>
        <tbody id="cuerpoTabla">
            <tr>
                <td><input type="text" placeholder="Ej: Multímetro UT33C" class="inputNombre"></td>
                <td><input type="number" min="1" value="1" class="inputCantidad"></td>
                <td><button class="btnEliminar" onclick="eliminarFila(this)">Eliminar</button></td>
            </tr>
        </tbody>
    </table>

    <button class="btnEnviar" onclick="enviarSolicitud()">Enviar Solicitud</button>
    <button class="btnVolver" onclick="location.href='menu.html'">Volver</button>
</div>

<script>
function agregarFila() {
    const cuerpo = document.getElementById("cuerpoTabla");
    const fila = document.createElement("tr");

    fila.innerHTML = `
        <td><input type="text" placeholder="Ej: Multímetro UT33C" class="inputNombre"></td>
        <td><input type="number" min="1" value="1" class="inputCantidad"></td>
        <td><button class="btnEliminar" onclick="eliminarFila(this)">Eliminar</button></td>
    `;

    cuerpo.appendChild(fila);
}

function eliminarFila(boton) {
    const fila = boton.parentNode.parentNode;
    const cuerpo = document.getElementById("cuerpoTabla");

    if (cuerpo.rows.length > 1) {
        fila.remove();
    } else {
        alert("Debe haber al menos un material.");
    }
}

function enviarSolicitud() {
    const docente = document.getElementById("docente").value;
    const asignatura = document.getElementById("asignatura").value.trim();

    if (!docente) {
        alert("Debe seleccionar un docente.");
        return;
    }
    if (!asignatura) {
        alert("Debe escribir la asignatura.");
        return;
    }

    const nombres = document.querySelectorAll(".inputNombre");
    const cantidades = document.querySelectorAll(".inputCantidad");

    let materiales = [];

    for (let i = 0; i < nombres.length; i++) {
        const nombre = nombres[i].value.trim();
        const cantidad = cantidades[i].value.trim();

        if (!nombre || !cantidad) {
            alert("Todos los campos deben estar completos.");
            return;
        }

        materiales.push({ nombre, cantidad });
    }

    console.log("Solicitud enviada (demo):", {
        docente,
        asignatura,
        materiales
    });

    alert("Solicitud enviada correctamente (demo).");
}
</script>

</body>
</html>

